@import "./_defs.css";
@import "./_tailwind.css";
@import "./_ui.css";

:root {
	--base00: theme("colors.gray.50");
	--base01: theme("colors.gray.200");
	--base02: theme("colors.gray.300");
	--base03: theme("colors.gray.400");
	--base04: theme("colors.gray.500");
	--base05: theme("colors.gray.600");
	--base06: theme("colors.gray.700");
	--base07: theme("colors.gray.800");
	--base08: theme("colors.cyan.800");
	--base09: theme("colors.blue.600");
	--base0A: theme("colors.blue.700");
	--base0B: theme("colors.cyan.700");
	--base0C: theme("colors.cyan.600");
	--base0D: theme("colors.blue.800");
	--base0E: theme("colors.blue.900");
	--base0F: theme("colors.gray.700");

	--code-background: theme("colors.gray.50");
}

@media (prefers-color-scheme: dark) {
	:root {
		--base00: theme("colors.gray.800");
		--base01: theme("colors.gray.700");
		--base02: theme("colors.gray.600");
		--base03: theme("colors.gray.500");
		--base04: theme("colors.gray.400");
		--base05: theme("colors.gray.300");
		--base06: theme("colors.gray.200");
		--base07: theme("colors.gray.100");
		--base08: theme("colors.cyan.300");
		--base09: theme("colors.blue.400");
		--base0A: theme("colors.blue.300");
		--base0B: theme("colors.cyan.200");
		--base0C: theme("colors.cyan.100");
		--base0D: theme("colors.blue.200");
		--base0E: theme("colors.blue.100");
		--base0F: theme("colors.gray.300");

		--code-background: theme("colors.black");
	}
}

@media (prefers-color-scheme: dark) and (--lg) {
	:root {
		--code-background: theme("colors.gray.900");
	}
}

.prose
	:where(pre[data-line-numbers="true"]):not(:where([class~="not-prose"] *)) {
	padding-left: 3.5rem;
	position: relative;
}

.prose :where(.codeblock-line):not(:where([class~="not-prose"] *)) {
	display: block;
	width: 100%;
}

.prose
	:where(.codeblock-line[data-line-number]):not(:where([class~="not-prose"]
			*)) {
	position: relative;

	&::before {
		content: attr(data-line-number);
		position: absolute;
		font: inherit;
		line-height: inherit;
		display: block;
		right: calc(100% + 1rem);
		opacity: 0.325;
		text-align: right;
	}
}

.prose :where(pre[data-lang]):not(:where([class~="not-prose"] *)) {
	position: relative;

	&::before {
		content: attr(data-lang);
		position: absolute;
		right: 1.325rem;
		top: 1.125rem;
		font-size: 0.8em;
		font-weight: bold;
		text-transform: uppercase;
		letter-spacing: 2px;
		opacity: 0.325;
	}

	@media (max-width: 672px) {
		&::before {
			display: none;
		}
	}
}

.prose
	:where(.footnote-ref, .footnote-back):not(:where([class~="not-prose"] *)) {
	display: inline-block;
	text-decoration: none;
	margin-left: 0.25em;
}

.prose :where(.footnotes):not(:where([class~="not-prose"] *)) {
	ol {
		counter-reset: footnotes;
	}

	& li {
		list-style: none;
		position: relative;
	}

	& li::before {
		counter-increment: footnotes;
		content: counter(footnotes);
		position: absolute;
		top: 0;
		left: -1.5rem;
		font-weight: 400;
		color: var(--tw-prose-counters);
	}
}
